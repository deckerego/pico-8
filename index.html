<html>
  <head>
    <meta charset="utf-8">
    <title>PICO-8 Handheld</title>
    <link rel="stylesheet" href="index.css" type="text/css" media="all">
  </head>

<body bgcolor=#303030>
  <div class="console">
    <button class="switch" onclick="Module.pico8Reset();">Reset</button>
    <button class="switch" onclick="Module.pico8TogglePaused();">Pause</button>
    <button class="switch" onclick="Module.pico8ToggleSound();">Mute</button>

    <div class="screen">
      <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()"></canvas>
      <script async type="text/javascript" src="beachdogs.js"></script>
  	</div>

    <div class="gap"></div>

    <div class="controller">
      <button class="dpad dpad-horiz" style="grid-row: 2; grid-column: 1;" ontouchstart="pico8_buttons[0] = pico8_buttons[0] | 1;" ontouchend="pico8_buttons[0] = pico8_buttons[0] ^ 1;">&larr;</button>
      <button class="dpad dpad-vert" style="grid-row: 1; grid-column: 2;" ontouchstart="pico8_buttons[0] = pico8_buttons[0] | 4;" ontouchend="pico8_buttons[0] = pico8_buttons[0] ^ 4;">&uarr;</button>
      <button class="dpad dpad-vert" style="grid-row: 3; grid-column: 2;" ontouchstart="pico8_buttons[0] = pico8_buttons[0] | 8;" ontouchend="pico8_buttons[0] = pico8_buttons[0] ^ 8;">&darr;</button>
      <button class="dpad dpad-horiz" style="grid-row: 2; grid-column: 3;" ontouchstart="pico8_buttons[0] = pico8_buttons[0] | 2;" ontouchend="pico8_buttons[0] = pico8_buttons[0] ^ 2;">&rarr;</button>

      <button class="button" style="grid-row: 2; grid-column: 5;" ontouchstart="pico8_buttons[0] = pico8_buttons[0] | 16;" ontouchend="pico8_buttons[0] = pico8_buttons[0] ^ 16;">X</button>
      <button class="button" style="grid-row: 3; grid-column: 4;" ontouchstart="pico8_buttons[0] = pico8_buttons[0] | 32;" ontouchend="pico8_buttons[0] = pico8_buttons[0] ^ 32;">O</button>
    </div>
  </div>

  <script type="text/javascript" src="index.js"></script>
  <script type="text/javascript">
		var canvas = document.getElementById("canvas");
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;

    var pico8_buttons = [0, 0];
		var Module = {};
		Module.canvas = canvas;

		document.addEventListener('keydown', onKeyDown_blocker, false);
	</script>

  </body>
</html>
